<!doctype html><meta charset="utf-8"><title>HouseBoard â€“ Security</title>
{% load static %}
<style>
/* ---- Base (match week.html color scheme) ------------------------------- */
body{background:#0b0c10;color:#f2f5f9;font:400 16px/1.5 system-ui;margin:0;overflow:hidden}
.wrap h1{margin:0 0 2px 0;padding:16px 20px 0}
.wrap{padding:0}
.sub{opacity:.65;font-size:13px;margin:0 0 14px 0;padding:0 20px}

/* Inset border around the entire viewport */
body::after{
  content:"";
  position:fixed;
  inset:8px;                 /* distance from the screen edge */
  border:1px solid rgba(255,255,255,.6); /* thin white border */
  border-radius:10px;        /* slight rounding */
  pointer-events:none;       /* don't block clicks */
  z-index:9999;              /* render above all content */
}

/* ---- Cards (keep security layout, but match week colors) ---------------- */
.cards{
  display:grid;
  grid-template-columns:repeat(3,minmax(0,1fr));
  gap:12px;
  margin:16px 8px 90px;
}
@media (max-width: 980px){
  .cards{ grid-template-columns: 1fr; margin:16px 12px 90px; }
}
.card{background:#1b1f29;border:1px solid #333;border-radius:10px;padding:12px;min-width:0}
.card h4{margin:0 0 4px 0;font-weight:700;opacity:.9}
.card .muted{opacity:.75;font-size:14px;margin-top:4px}

/* ---- Footer buttons (use week.html button styling) --------------------- */
.footer{position:fixed;left:0;right:0;bottom:0;background:#0f1217;border-top:1px solid #1a1d22;padding:8px;display:flex;gap:8px;justify-content:center}
.footer a{
  background:#1a2333;
  color:#f2f5f9;
  border:1px solid #2a3750;
  border-radius:10px;
  padding:10px 14px;
  font-weight:600;
  cursor:pointer;
  text-decoration:none;
  transition:transform .06s ease, background .12s ease, border-color .12s ease
}
.footer a:hover{transform:translateY(-1px);background:#21314a;border-color:#3b5172}
.footer a:active{transform:translateY(0)}
/* ---- Cameras ----------------------------------------------------------- */
.section-title{margin:10px 0 6px;font-size:20px;font-weight:800;opacity:.98;padding:0 20px}
.section-sub{margin:0 0 14px;font-size:13px;opacity:.7;padding:0 20px}
.cam-grid{
  display:grid;
  grid-template-columns: 1fr;
  gap:16px;
  margin:0 8px 16px; /* nearly full-bleed */
}
@media (max-width: 980px){
  .cam-grid{ grid-template-columns: 1fr; margin:0 8px 16px; }
  .section-title,.section-sub{ padding-left:12px; padding-right:12px; }
}
.cam-card{background:#1b1f29;border:1px solid #333;border-radius:10px;padding:10px;min-width:0}
.cam-head{display:flex;align-items:baseline;justify-content:space-between;gap:10px;margin:0 0 8px 0}
.cam-name{font-weight:800;letter-spacing:.2px}
.cam-meta{font-size:12px;opacity:.7}
.cam-frame{display:block;width:100%;height:auto;aspect-ratio:16/10;border:0;border-radius:8px;background:#000}

/* ---- Debug/version badge (helps confirm new template is actually served) */
.ver-badge{position:fixed;top:10px;right:14px;font-size:12px;opacity:.75;z-index:10000}
.ver-badge span{background:#1a2333;border:1px solid #2a3750;border-radius:999px;padding:4px 8px}

/* Make camera section dominate the screen */
.cam-grid{margin:0 8px 10px; gap:16px}
.cam-card{padding:8px}
.cam-card{display:flex;flex-direction:column}
.cam-frame{flex:1 1 auto; width:100%; height:34vh; aspect-ratio:auto; border:0; border-radius:8px; background:#000}

/* Push the cards section below the fold for now (keeps layout stable while tuning camera sizing) */
.cards{display:none}
</style>

<div class="wrap">
  <div class="ver-badge"><span>security.html v2025-12-22</span></div>
  <h1>Security</h1>
  <p class="sub">HouseBoard security dashboard (placeholder)</p>

  <div class="section-title">Cameras</div>
  <div class="section-sub">Live streams via go2rtc player (proxied at /go2rtc/). Open this page via hb-pi: http://192.168.1.237:8080/houseboard/security/</div>

  <div class="cam-grid">
    <div class="cam-card">
      <div class="cam-head">
        <div class="cam-name">Front Door</div>
        <div class="cam-meta">frontdoor</div>
      </div>
      <iframe
        class="cam-frame"
        src="/go2rtc/stream.html?src=frontdoor&mode=mse"
        allow="autoplay; fullscreen"
      ></iframe>
    </div>

    <div class="cam-card">
      <div class="cam-head">
        <div class="cam-name">Front Yard</div>
        <div class="cam-meta">frontyard</div>
      </div>
      <iframe
        class="cam-frame"
        src="/go2rtc/stream.html?src=frontyard&mode=mse"
        allow="autoplay; fullscreen"
      ></iframe>
    </div>

    <div class="cam-card">
      <div class="cam-head">
        <div class="cam-name">Boat</div>
        <div class="cam-meta">boat</div>
      </div>
      <iframe
        class="cam-frame"
        src="/go2rtc/stream.html?src=boat&mode=mse"
        allow="autoplay; fullscreen"
      ></iframe>
    </div>
  </div>

  <div class="cards">
    <div class="card">
      <h4>External exposure</h4>
      <div class="muted">Scaffold: show WAN-facing ports, UPnP status, and last scan results.</div>
      <div class="muted" style="margin-top:10px; font-size:13px;">
        Suggested sources: router config notes, nmap scans from droplet, and go2rtc ports (1984/8554/8555) LAN-only.
      </div>
    </div>

    <div class="card">
      <h4>Accounts</h4>
      <div class="muted">Scaffold: admin users, last login, password/2FA reminders, and audit notes.</div>
    </div>

    <div class="card">
      <h4>System</h4>
      <div class="muted">Scaffold: droplet firewall (UFW), updates, backups, service health, and hb-pi status.</div>
    </div>
  </div>

</div>

<div class="footer">
  <a href="/houseboard/daybuddy/week/">DayBuddy</a>
  <a href="/houseboard/security/">Security</a>
</div>